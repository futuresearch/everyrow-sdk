{{- if .Values.secrets.enabled -}}
apiVersion: v1
kind: Secret
metadata:
  name: everyrow-mcp-secrets
type: Opaque
data:
  {{- range $key, $value := .Values.secrets.data }}
  {{- if and $value (kindIs "string" $value) }}
  {{ $key | upper }}: {{ $value | b64enc }}
  {{- end }}
  {{- end }}
{{- end }}
