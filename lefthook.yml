output:
  - summary

pre-commit:
  jobs:
    - name: "SDK Formatting"
      group:
        jobs:
          - name: format-sdk
            root: "everyrow-sdk/"
            glob: "**/*.py"
            exclude:
              - "src/everyrow/generated/**"
            run: uv run ruff format {staged_files}
            stage_fixed: true

    - name: "SDK Linting"
      group:
        jobs:
          - name: lint-sdk
            root: "everyrow-sdk/"
            glob: "**/*.py"
            exclude:
              - "src/everyrow/generated/**"
            run: uv run ruff check --fix {staged_files}
            stage_fixed: true

    - name: "SDK Typechecking"
      group:
        jobs:
          - name: typecheck-sdk
            root: "everyrow-sdk/"
            glob: "**/*.py"
            exclude:
              - "src/everyrow/generated/**"
            run: uv run basedpyright

    - name: "MCP Formatting"
      group:
        jobs:
          - name: format-mcp
            root: "everyrow-mcp/"
            glob: "**/*.py"
            run: uv run ruff format {staged_files}
            stage_fixed: true

    - name: "MCP Linting"
      group:
        jobs:
          - name: lint-mcp
            root: "everyrow-mcp/"
            glob: "**/*.py"
            run: uv run ruff check --fix {staged_files}
            stage_fixed: true
